# 功能按钮

::: tip
常用的操作按钮。
:::

## 使用场景

### 功能类型

根据功能类型将功能按钮分为主功能按钮和次功能按钮

主功能按钮指的是页面中的主要按钮，使人能一眼看出该页面的重点功能

使用普通实心按钮

除了主功能按钮，其他的都是次功能，使用普通空心按钮

主功能也可以是警告、错误功能按钮，根据业务场景决定


```vue preview="iframe-follow"
<template>
  <el-button type="primary" :icon="Plus" >主功能</el-button>
  <el-button type="primary" plain :icon="Edit" >次功能</el-button>
  <el-button type="warning" :icon="Edit" >主功能</el-button>
  <el-button type="warning" plain :icon="Edit" >次功能</el-button>
</template>
<script setup lang="ts">
import {ElButton} from 'element-plus'
import { Plus, Edit, Delete, Search, Paperclip, Setting, Printer,Coordinate,Upload, Download, Warning, ArrowDown, Remove, ZoomIn, Refresh, CircleCheck, InfoFilled } from '@element-plus/icons-vue'
const { ref } = Vue
const btnVisible = ref(false)
</script>
```

### 业务类型


#### 操作功能按钮

对数据有影响操作的按钮，如：新增、修改、审核、保存、确认、启用、选材、上传等。


```vue preview="iframe-follow"
<template>
  <el-button type="primary" :icon="Plus" >主操作功能</el-button>
  <el-button type="primary" plain :icon="Edit" >次操作功能</el-button>
</template>
<script setup lang="ts">
</script>
```


#### 警告功能按钮

一些逆向的业务操作或者对其他业务有影响的操作，如：撤销审核、撤销审批等。

```vue preview="iframe-follow"
<template>
  <el-button type="warning" :icon="Edit" >主警告功能</el-button>
  <el-button type="warning" plain :icon="Edit" >次警告功能</el-button>
</template>
```


#### 危险功能按钮

一些危险的业务操作，一般会对数据造成不可逆或者可逆过程很复杂的影响。 如：删除、冲红、禁用等。

```vue preview="iframe-follow"
<template>
  <el-button type="danger" :icon="Warning">主危险功能</el-button>
  <el-button type="danger" plain :icon="Warning">次危险功能</el-button>
</template>
```

#### 普通功能按钮

业务上实现的一个对主要业务功能进行补充的功能，如：查询、参数设置按钮等。

```vue preview="iframe-follow"
<template>
  <el-button type="info" :icon="Search">主普通功能</el-button>
  <el-button type="info" plain :icon="Search">次普通功能</el-button>
</template>
```


#### 辅助功能按钮

实现的一些不影响业务数据的功能，如数据导出、打印、下载等。


```vue preview="iframe-follow"
<template>
  <el-button type="success" :icon="Paperclip">主辅助功能</el-button>
  <el-button type="success" plain :icon="Paperclip">次辅助功能</el-button>
</template>
```

#### 文字按钮

文字按钮一般在表格行内、表单、导航栏中使用

文字+图标按钮：普通操作按钮，如表格行内编辑、删除、上传附件等按钮等

```vue preview="iframe-follow"
<template>
  <el-button
    link
    type="primary"
    :icon="Edit"
  >
    编辑
  </el-button>
  <el-button
    link
    type="danger"
    :icon="Delete"
  >
    删除
  </el-button>
</template>
```



纯文字按钮：一些`刻意弱化`的功能，防止误点。如：取消、重置、关闭按钮


```vue preview="iframe-follow"
<template>
  <el-button
    link
    type="primary"
  >
    关闭
  </el-button>
  <el-button
    link
    type="primary"
  >
    返回
  </el-button>
  <el-button
    link
    type="primary"
  >
    重置
  </el-button>
  <el-button
    link
    type="primary"
  >
    取消
  </el-button>
</template>
```

### 按钮形状
按钮的形状有：方形按钮、圆形图标按钮、文字按钮


```vue preview="iframe-follow"
<template>
  <el-button type="primary" :icon="Plus" >新增</el-button>
  <el-tooltip
    effect="dark"
    content="查看信息"
    placement="top"
    >
    <el-button type="info" circle size="small" :icon="ZoomIn" plain></el-button>
  </el-tooltip>
  <el-button
    link
    type="danger"
    :icon="Delete"
    size="small"
  >
    删除
  </el-button>

</template>
```



- 默认使用方形按钮

- 行内表单删除使用文字图标按钮


- 表格里的查看详情、打印、导出按钮使用圆形图标按钮

- 使用纯图标按钮应该使用`tooltip`给出按钮提示，`tooltip`统一使用黑色主题，方向为`top`

### 按钮大小

按钮分为大按钮（large）、标准按钮（default）、小按钮（small） 三种尺寸


```vue preview="iframe-follow"
<template>
  <el-button type="primary" :icon="Plus" size="large">Large 大按钮</el-button>
  <el-button type="primary" :icon="Plus">Default 标准按钮</el-button>
  <el-button type="primary" :icon="Plus" size="small">Small 小按钮</el-button>
</template>
```



- 默认使用标准按钮

- 表格行内一般都使用小按钮（其余行内按钮规定查看《数据展示-表格》）


### 按钮位置

- toolbar工具栏

使用 `flex-line`布局

- 表格行内

按钮居中显示

- 表单

弹窗表单按钮放在功能条中，使用`flexline`布局

页面表单将按钮放在`panel`的标题工具栏中

### 按钮分组

在按钮较多时，可以考虑将一些非主要功能的按钮进行分组合并

- 不能放增删改按钮，可以放导入、导出等功能
```vue preview="iframe-follow"
<template>
<el-dropdown>
	<el-button type="primary" plain>
		更多
		<el-icon class="el-icon--right">
			<arrow-down/>
		</el-icon>
	</el-button>
	<template
	#dropdown>
	<el-dropdown-menu>
		<el-dropdown-item>导入</el-dropdown-item>
		<el-dropdown-item>下载模板</el-dropdown-item>
		<el-dropdown-item>导出</el-dropdown-item>
	</el-dropdown-menu>
</template>
  </el-dropdown>
</template>
```

## 开发指导

- 一个页面中只能有一个`主要动作按钮`
- 只有存在主要动作按钮时，才会出现`次要动作按钮`
- 如果存在`主要动作按钮`，那么其他的按钮只能是`次要动作按钮`
- 没有特殊要求情况下，按钮尺寸都使用默认大小
- 按钮都要搭配图标使用，文本按钮可以不加图标；
- 按钮和图标之间要有间隙（`ElementPlus`自带的图标不用预留，但是使用`iconfont`引入的图标就需要加空格）
- 按钮中涉及异步操作的都要加`loading`属性，避免发起多次请求。如：保存、提交、撤销提交等按钮

- 在`toolbar`中警告、危险按钮摆放在主功能按钮右侧，设置一个偏移量公共类`button-margin-left`

- 危险按钮放在最后

```vue preview="iframe-follow"
<div style="border:solid 1px #ccc">
	<flex-line
	:left-padding="true" :right-padding="true" :right-clear-padding="['right']" left-width="400px">
	<el-button type="primary" :icon="Plus" @click="dialogVisible=true">新增</el-button>
<el-button type="primary" plain :icon = "Edit" > 编辑 < /el-button>

<el-button type="warning" class="button-margin-left" plain :icon = "Remove" > 停用 < /el-button>
<el-button plain type="danger" :icon = "Delete" > 删除 < /el-button>
</flex-line>
</div>
```

- 危险按钮显示popver组件进行确认操作


```vue preview="iframe-follow"
<el-popover :visible = "btnVisible" placement = "bottom" :width = "160" trigger = "click" >
	< p > 删除以后无法恢复，是否继续 ?</p>
<div style="text-align: right; margin: 0">
	<el-button size="small" text
	@click="btnVisible = false">取消</el-button>
<el-button size="small" type="primary">确认</el-button>
</div>
  <template #reference>
    <el-button type="danger"  plain @click="btnVisible=true" :icon="Delete" >删除</el-button>
  </template>
</el-popover>
```

- 表格行内按钮可以使用文字按钮、图标按钮、小按钮

- 按钮组默认会留出间距，如果按钮中间夹杂着其他组件，则使用`el-space`组件包裹，给出间距


```vue preview="iframe-follow"
<template>
	<el-space>
		<el-button type="primary"
		:icon="Plus" >新增
	</el-button>
	<el-button type="primary" plain
	:icon="Edit">编辑</el-button>
<el-dropdown>
	<el-button type="primary" plain>
		更多
		<el-icon class="el-icon--right">
			<arrow-down/>
		</el-icon>
	</el-button>
	<template
	#dropdown>
	<el-dropdown-menu>
		<el-dropdown-item>导入</el-dropdown-item>
		<el-dropdown-item>下载模板</el-dropdown-item>
		<el-dropdown-item>导出</el-dropdown-item>
	</el-dropdown-menu>
</template>
</el-dropdown>
<el-checkbox>选择</el-checkbox>
</el-space>
</template>

```
:::

## 示例

- 普通按钮


```vue preview="iframe-follow"
<template>
	<div class="btn-items">
		新增： <el-button type="primary" :icon="Plus" >新增
	</el-button>
</div>
<div class="btn-items">
	编辑： <el-button type="primary" :icon="Edit" >编辑</el-button>
</div>
<div class="btn-items">
	保存： <el-button type="primary"><i class="cs-common baocun" style="font-size:14px"></i>&nbsp;保存</el-button>
</div>
<div class="btn-items">
	提交： <el-button type="primary"><i class="cs-common tijiao" style="font-size:14px"></i>&nbsp;提交</el-button>
</div>
<div class="btn-items">
	选材： <el-button type="primary"><i class="cs-common multi-add" style="font-size:14px"></i>&nbsp;合同选材</el-button>
</div>
<div class="btn-items">
	查询： <el-button type="info" :icon="Search" >查询</el-button>
</div>
<div class="btn-items">
	设置： <el-button type="info" :icon="Setting" >设置</el-button>
</div>
<div class="btn-items">
	打印： <el-button type="success"><i class="cs-common dayin"></i>&nbsp;打印</el-button>
</div>
<div class="btn-items">
	导出： <el-button type="success"><i class="cs-common excel" style="font-size:14px"></i>&nbsp;导出</el-button>
</div>
<div class="btn-items">
	撤销提交： <el-button type="warning"><i class="cs-common chexiao" style="font-size:14px"></i>&nbsp;撤销提交</el-button>
</div>
<div class="btn-items">
	删除：
	<el-popover :visible="btnVisible" placement="bottom" :width="160" trigger="click">
	<p>删除以后无法恢复，是否继续?</p>
	<div style="text-align: right; margin: 0">
		<el-button size="small" text
		@click="btnVisible = false">取消
	</el-button>
	<el-button size="small" type="primary">确认</el-button>
</div>
<template #reference >
< el - button type = "danger" :icon = "Delete" @click= "btnVisible=true" > 删除 < /el-button>
</template>
    </el-popover>
  </div>
  <div class="btn-items">
	上传附件： <el-button type="primary" :icon="Upload" >上传附件</el-button>
</div>
  <div class="btn-items">
	下载附件： <el-button type="primary" :icon="Download" >下载附件</el-button>
</div>
  <div class="btn-items">
	重置：
	<el-button type="warning"
	:icon="Refresh">重置</el-button>
</div>
  <div class="btn-items">
	启用：
	<el-button type="primary"><i class="cs-common qiyong" style="font-size:14px"></i>&nbsp; 启用</el-button>
</div>
  <div class="btn-items">
	停用：
	<el-button type="warning"><i class="cs-common tingyong" style="font-size:14px"></i>&nbsp; 停用</el-button>
</div>
</template>
<script setup lang="ts">
</script>
<style>
	.btn-items{
	padding - bottom: 10px
}
</style>
```


- 文字按钮

```vue preview="iframe-follow"
<template>
	<div class="btn-items">
		编辑： <el-button link type="primary" :icon="Edit">编辑
	</el-button>
</div>
<div class="btn-items">
	删除： <el-button link type="danger" :icon="Delete">删除</el-button>
</div>
<div class="btn-items">
	上传附件： <el-button type="primary" link :icon="Upload" >上传附件</el-button>
</div>
<div class="btn-items">
	下载附件： <el-button type="success" link :icon="Download" >下载附件</el-button>
</div>
<div class="btn-items">
	关闭：
	<el-button
		link
		type="primary"
	>
		关闭
	</el-button>
</div>
<div class="btn-items">
	返回：
	<el-button
		link
		type="primary"
	>
		返回
	</el-button>
</div>
<div class="btn-items">
	重置：
	<el-button
		link
		type="warning"
	>
		重置
	</el-button>
</div>
<div class="btn-items">
	取消：
	<el-button
		link
		type="primary"
	>
		取消
	</el-button>
</div>
<div class="btn-items">
	说明信息：
	<el-tooltip
		effect="dark"
		content="查看信息"
		placement="top"
	>
		<el-button type="info" link plain size="small" style="height: 100%"
		:icon="InfoFilled">
	</el-button>
</el-tooltip>
</div>
</template>
<script setup lang="ts">
</script>
<style>
	.btn-items{
	padding - bottom: 10px
}
</style>
```


- 图标按钮  `v1.1`

```html
<template>
	<div class="btn-items">
		打印：
		<el-tooltip class="box-item" effect="dark" content="打印" placement="top">
			<el-button type="success" circle size="small" plain
			@click="_printExport(scope.row, 'print')"><i class="cs-common dayin" style="font-size:12px"
		></i></el-button>
	</el-tooltip>
</div>
  <div class="btn-items">
	导出： <el-tooltip class="box-item" effect="dark" content="导出" placement="top">
	<el-button type="success" circle size="small" plain
	@click="_printExport(scope.row, 'export')"><i class="cs-common excel" style="font-size:12px"
></i></el-button>
</el-tooltip>
  </div>

  <div class="btn-items">
	详情：
	<el-tooltip
		effect="dark"
		content="查看信息"
		placement="top"
	>
		<el-button type="info" circle size="small" plain><i class="cs-common xiangqing" style="font-size:12px"></i>
		</el-button>
	</el-tooltip>
</div>
  <div class="btn-items">
	审批流：
	<el-tooltip
		effect="dark"
		content="查看信息"
		placement="top"
	>
		<el-button type="info" circle size="small" plain><i class="cs-common shenpiliu" style="font-size:12px"></i>
		</el-button>
	</el-tooltip>
</div>
</template>
<script setup lang="ts">
</script>
<style>
	.btn-items{
	padding - bottom: 10px
}
</style>
```
:::


