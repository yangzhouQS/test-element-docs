# Flexbox 弹性盒子
::: tip
一个弹性盒子组件
:::

##  基础用法

默认是竖向，一次可以增加多个固定或者弹性区域




```
<template>
  <div style="border:solid 1px #ccc">
    <flex-box :item-num="flexConfig.length" :item-config="flexConfig" height="300px">
      <template #item-1>
        固定区域1
      </template>
      <template #item-2>
        <div style="border-top:solid 1px #ccc">
          固定区域2
        </div>
      </template>
      <template #item-3>
        <div style="border-top:solid 1px #ccc">
          弹性区域3
        </div>
      </template>
      <template #item-4>
        <div style="border-top:solid 1px #ccc">
          弹性区域4
        </div>
      </template>
    </flex-box>
  </div>
</template>
<script lang="ts" setup>
const { reactive } = Vue
const flexConfig = reactive([
  {
    tag: 'item-1',
    isFixed: true,
    size: '50px'
  },
  {
    tag: 'item-2',
    isFixed: true,
    size: '50px'
  },
  {
    tag: 'item-3',
    isFixed: false,
    size: ''
  },
  {
    tag: 'item-4',
    isFixed: false,
    size: '',
  }
])
</script>
```


##  横向

`is-row`属性将调整方向为纵向或横向



```
<template>
  <div style="height:300px;border:solid 1px #ccc">
    <flex-box :is-row="true" :item-num="4" :item-config="flexConfig">
      <template #item-1>
        固定区域1
      </template>
      <template #item-2>
        <div style="border-left:solid 1px #ccc;height:100%">
          固定区域2
        </div>
      </template>
      <template #item-3>
        <div style="border-left:solid 1px #ccc;height:100%">
          弹性区域3
        </div>
      </template>
      <template #item-4>
        <div style="border-left:solid 1px #ccc;height:100%">
          弹性区域4
        </div>
      </template>
    </flex-box>
  </div>
</template>
<script lang="ts" setup>
const flexConfig = [
  {
    tag: 'item-1',
    isFixed: true,
    size: '100px',
  },
  {
    tag: 'item-2',
    isFixed: true,
    size: '100px',
  },
  {
    tag: 'item-3',
    isFixed: false,
    size: '',
  },
  {
    tag: 'item-4',
    isFixed: false,
    size: '',
  }
]
</script>
```

##  边距

可以通过传入`paddingSize`属性控制子容器内边距大小，重合的边距使用`clearPadding`进行清除



```
<template>
  <div style="border:solid 1px #ccc">
    <flex-box :is-row="true" :item-num="4" :item-config="flexConfig" height="300px">
      <template #item-1>
        <div style="height:100%;background:var(--el-fill-color-dark)">
          固定区域1
        </div>
      </template>
      <template #item-2>
        <div style="height:100%;background:var(--el-fill-color-dark)">
          固定区域2
        </div>
      </template>
      <template #item-3>
        <div style="height:100%;background:var(--el-fill-color-dark)">
          弹性区域3
        </div>
      </template>
      <template #item-4>
        <div style="height:100%; background:var(--el-fill-color-dark)">
          弹性区域4
        </div>
      </template>
    </flex-box>
  </div>
</template>
<script lang="ts" setup>
const flexConfig = [
  {
    tag: 'item-1',
    isFixed: true,
    size: '100px',
    paddingSize: 'large',
    clearPadding: ['right']
  },
  {
    tag: 'item-2',
    isFixed: true,
    size: '100px',
    paddingSize: 'large',
    clearPadding: ['right']
  },
  {
    tag: 'item-3',
    isFixed: false,
    size: '',
    paddingSize: 'large',
    clearPadding: ['right']
  },
  {
    tag: 'item-4',
    isFixed: false,
    size: '',
    paddingSize: 'large'
  }
]
</script>
```



##  缩放

打开`itemConfig`中的`showDragButton`属性开启缩放功能

::: tip
使用要求：
1. 缩放功能只在`固定区域`起作用。
2. 显示缩放按钮需要打开按钮所在位置的`padding`
3. 拖动方向上需要有`至少一个弹性框`才能拖动
:::

### 横向

横向排列时，缩放按钮可以放在固定区域的`左侧` 或 `右侧`，不传时默认在`右侧`

`dragButtonPosition`设置值为`left`或`right`



```
<template>
  <div style="background: var(--el-bg-color-page);">
    <flex-box v-if="true" :is-row="true" height="600px" :item-num="flexConfig8.length" :item-config="flexConfig8">
      <template #item-1>
        <panel title="固定区域" :show-header="true" :padding-size="'base'">右侧 显示拖动按钮
          默认折叠
        </panel>
      </template>
      <template #item-2>
        <panel title="弹性区域" :show-header="true" :padding-size="'base'">弹性挤压区域 </panel>
      </template>
      <template #item-3>
        <panel title="固定区域" :show-header="true" :padding-size="'base'">左侧显示拖动按钮 </panel>
      </template>
      <template #item-4>
        <panel title="固定区域" :show-header="true" :padding-size="'base'">左侧显示拖动按钮 </panel>
      </template>
    </flex-box>
  </div>
</template>

<script setup lang="ts">
  const flexConfig8 = [
    {
      tag: 'item-1',
      isFixed: true,
      showDragButton: true,
      dragButtonPosition: 'right',
      size: '',
      paddingSize: 'large',
      isFold: true,
      expandSize: '200px',
      clearPadding: []
    },
    {
      tag: 'item-2',
      isFixed: false,
      size: '',
      paddingSize: 'large',
      clearPadding: ['left', 'right']
    },
    {
      tag: 'item-3',
      isFixed: true,
      dragButtonPosition: 'left',
      showDragButton: true,
      size: '100px',
      paddingSize: 'large',
      clearPadding: ['right'],
      isHidden: false
    },
    {
      tag: 'item-4',
      isFixed: true,
      dragButtonPosition: 'left',
      showDragButton: true,
      size: '100px',
      paddingSize: 'large',
      clearPadding: []
    }
  ]
</script>

```


### 纵向

横向排列时，缩放按钮可以放在固定区域的`上方` 或 `下方`，不传时默认在`下方`

`dragButtonPosition`设置值为`top`或`bottom`

```
<template>
  <div style="background: var(--el-bg-color-page);">
    <flex-box :is-row="false" height="600px" :item-num="flexConfig9.length" :item-config="flexConfig9">
      <template #item-1>
        <panel title="固定区域" :show-header="true" :padding-size="'base'">下方显示拖动按钮 </panel>
      </template>
      <template #item-2>
        <panel title="弹性区域" :show-header="true" :padding-size="'base'">弹性挤压区域 </panel>
      </template>
      <template #item-3>
        <panel title="固定区域" :show-header="true" :padding-size="'base'">上方显示拖动按钮 </panel>
      </template>
    </flex-box>
  </div>
</template>

<script setup lang="ts">
const flexConfig9 = [
  {
    tag: 'item-1',
    isFixed: true,
    showDragButton: true,
    dragButtonPosition: 'bottom',
    size: '',
    paddingSize: 'large',
    clearPadding: []
  },
  {
    tag: 'item-2',
    isFixed: false,
    size: '',
    paddingSize: 'large',
    clearPadding: ['top', 'bottom']
  },
  {
    tag: 'item-3',
    isFixed: true,
    dragButtonPosition: 'top',
    showDragButton: true,
    size: '100px',
    paddingSize: 'large',
    clearPadding: []
  }
]
</script>
```



## 参数

### FlexBox 属性

| 属性        | 说明       | 类型 | 可选值 | 默认值 |
| :--------- |:--------| :-----| :-----| :-----|
| is-row  | 横向排列  | boolean  | true/false  | false |
| item-num  | 子容器数目  | number  | 1  | 1 |
| item-config  | 子容器相关配置  | ItemConfig[]  |  |  |
| height  | 组件高度  | string  |  | 100% |
| width  | 组件宽度  | string  |  | 100% |

### ItemConfig 属性

| 属性        | 说明       | 类型 | 可选值 | 默认值 |
| :--------- |:--------| :-----| :-----| :-----|
| tag  | 子项标识  | string  | item-x  |  |
| isFixed  | 是否为固定区域  | boolean  | true/false  | false |
| size  | 固定区域大小  | string  | 0px  |  |
| paddingSize  | 内边距大小  | string  | small/base/large |  |
| clearPadding  | 清除内边距  | string[]  | left/right/top/bottom  | false |
| showDragButton  | 显示固定区域的缩放按钮  | boolean  |  true/false  | false |
| dragButtonPosition  | 缩放按钮位置  | string  |  横向：left/right 纵向：top/bottom  |  |
| isHidden  | 隐藏区域  | boolean  |    |  |
| isFold  | 默认是否折叠  | boolean  |    |  |
| expandSize  | 展开区域大小  | string  |    |  |

### 插槽

| 名称        |  描述 |
| :--------- |:-----|
|  item-x | x为数字，代表子项列，可以加多个 | 
